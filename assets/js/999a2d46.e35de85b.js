"use strict";(self.webpackChunkagent_nn_docs=self.webpackChunkagent_nn_docs||[]).push([[4599],{191:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>o,contentTitle:()=>i,default:()=>h,frontMatter:()=>a,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"architecture/dispatch_queue","title":"Dispatch Queue","description":"The dispatcher keeps tasks in an in-memory queue. Each ModelContext contains","source":"@site/docs/architecture/dispatch_queue.md","sourceDirName":"architecture","slug":"/architecture/dispatch_queue","permalink":"/Agent-NN/architecture/dispatch_queue","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{}}');var r=n(2540),c=n(3023);const a={},i="Dispatch Queue",o={},d=[];function u(e){const t={code:"code",h1:"h1",header:"header",p:"p",pre:"pre",...(0,c.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.header,{children:(0,r.jsx)(t.h1,{id:"dispatch-queue",children:"Dispatch Queue"})}),"\n",(0,r.jsxs)(t.p,{children:["The dispatcher keeps tasks in an in-memory queue. Each ",(0,r.jsx)(t.code,{children:"ModelContext"})," contains\n",(0,r.jsx)(t.code,{children:"priority"}),", ",(0,r.jsx)(t.code,{children:"deadline"})," and the timestamp ",(0,r.jsx)(t.code,{children:"submitted_at"})," which allows\nordering tasks. The queue sorts by the earliest deadline, then by priority\n(lowest number means higher priority) and finally by the task value. Tasks\nwhose deadline is in the past are marked as ",(0,r.jsx)(t.code,{children:"expired"})," when ",(0,r.jsx)(t.code,{children:"expire_old_tasks"}),"\ngets called."]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-mermaid",children:"flowchart TD\n    A[enqueue] --\x3e B[queue]\n    B --\x3e|poll| C[dequeue]\n    C --\x3e D[run task]\n"})})]})}function h(e={}){const{wrapper:t}={...(0,c.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(u,{...e})}):u(e)}},3023:(e,t,n)=>{n.d(t,{R:()=>a,x:()=>i});var s=n(3696);const r={},c=s.createContext(r);function a(e){const t=s.useContext(c);return s.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function i(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),s.createElement(c.Provider,{value:t},e.children)}}}]);