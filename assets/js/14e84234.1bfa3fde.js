"use strict";(self.webpackChunkagent_nn_docs=self.webpackChunkagent_nn_docs||[]).push([[9836],{7:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>a,default:()=>u,frontMatter:()=>r,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"integrations/n8n","title":"n8n Integration","description":"Die Workflow-Plattform n8n kann Agent\u2011NN sowohl aufrufen als auch von Agent\u2011NN aus gestartet werden. Eigene Nodes erleichtern die Kommunikation.","source":"@site/docs/integrations/n8n.md","sourceDirName":"integrations","slug":"/integrations/n8n","permalink":"/Agent-NN/integrations/n8n","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"docs","previous":{"title":"Session Management","permalink":"/Agent-NN/sessions"},"next":{"title":"FlowiseAI Integration","permalink":"/Agent-NN/integrations/flowise"}}');var s=t(4848),o=t(8453);const r={},a="n8n Integration",d={},l=[{value:"Agent\u2011NN von n8n aus nutzen",id:"agentnn-von-n8n-aus-nutzen",level:2},{value:"Eigener Node",id:"eigener-node",level:3},{value:"Quick Start",id:"quick-start",level:2},{value:"Agent\u2011NN ruft n8n Workflows auf",id:"agentnn-ruft-n8n-workflows-auf",level:2},{value:"Installation des Nodes",id:"installation-des-nodes",level:2},{value:"Troubleshooting",id:"troubleshooting",level:2}];function c(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"n8n-integration",children:"n8n Integration"})}),"\n",(0,s.jsxs)(n.p,{children:["Die Workflow-Plattform ",(0,s.jsx)(n.a,{href:"https://n8n.io/",children:"n8n"})," kann Agent\u2011NN sowohl aufrufen als auch von Agent\u2011NN aus gestartet werden. Eigene Nodes erleichtern die Kommunikation."]}),"\n",(0,s.jsx)(n.h2,{id:"agentnn-von-n8n-aus-nutzen",children:"Agent\u2011NN von n8n aus nutzen"}),"\n",(0,s.jsx)(n.h3,{id:"eigener-node",children:"Eigener Node"}),"\n",(0,s.jsxs)(n.p,{children:["Ein Beispiel befindet sich unter ",(0,s.jsx)(n.code,{children:"integrations/n8n-agentnn/AgentNN.node.ts"}),". Der Node leitet Aufgaben an den Dispatcher weiter. Der Kern sieht wie folgt aus:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",children:"import {\n  IExecuteFunctions,\n  IDataObject,\n  INodeExecutionData,\n  INodeType,\n  INodeTypeDescription,\n  NodeConnectionType,\n} from 'n8n-workflow';\nimport axios, { AxiosRequestConfig } from 'axios';\n\nexport class AgentNN implements INodeType {\n  description: INodeTypeDescription = {\n    displayName: 'AgentNN',\n    name: 'agentnn',\n    group: ['transform'],\n    version: 1,\n    inputs: [NodeConnectionType.Main],\n    outputs: [NodeConnectionType.Main],\n    properties: [\n      { displayName: 'Endpoint', name: 'endpoint', type: 'string', default: 'http://localhost:8000' },\n      { displayName: 'Task Type', name: 'taskType', type: 'string', default: 'chat' },\n      { displayName: 'Payload', name: 'payload', type: 'json', default: '{}' },\n    ],\n  };\n\n  async execute(this: IExecuteFunctions): Promise<INodeExecutionData[][]> {\n    const endpoint = this.getNodeParameter('endpoint', 0) as unknown as string;\n    const taskType = this.getNodeParameter('taskType', 0) as unknown as string;\n    const payload = this.getNodeParameter('payload', 0) as unknown as IDataObject;\n\n    const options: AxiosRequestConfig = {\n      method: 'POST',\n      url: `${endpoint}/task`,\n      data: { task_type: taskType, input: payload },\n    };\n\n    const { data } = await axios.request(options);\n    return [[data as INodeExecutionData]];\n  }\n}\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Dieses Skript kann als Custom Node in n8n eingebunden werden und sendet Aufgaben direkt an das Agent\u2011NN API\u2011Gateway.\nDabei k\xf6nnen optionale Parameter wie ",(0,s.jsx)(n.code,{children:"path"}),", ",(0,s.jsx)(n.code,{children:"method"}),", ",(0,s.jsx)(n.code,{children:"headers"}),", ",(0,s.jsx)(n.code,{children:"timeout"})," und ",(0,s.jsx)(n.code,{children:"auth"})," gesetzt werden, um URL-Pfad, HTTP-Methode, Header, Zeitlimit und Basis-Auth zu steuern."]}),"\n",(0,s.jsx)(n.h2,{id:"quick-start",children:"Quick Start"}),"\n",(0,s.jsx)(n.p,{children:"Schneller Einstieg zum Testen des Nodes:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"cd integrations/n8n-agentnn\nnpm install\nnpx tsc\ncp dist/* ~/.n8n/custom/\nn8n start\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Nach dem Kopieren der Dateien erscheint der Node im Editor unter ",(0,s.jsx)(n.code,{children:"AgentNN"}),"."]}),"\n",(0,s.jsx)(n.h2,{id:"agentnn-ruft-n8n-workflows-auf",children:"Agent\u2011NN ruft n8n Workflows auf"}),"\n",(0,s.jsxs)(n.p,{children:["Das Python\u2011Plugin ",(0,s.jsx)(n.code,{children:"n8n_workflow"})," erlaubt es, beliebige Webhook\u2011 oder REST\u2011Workflows anzusprechen. Neben Headern und Payloads lassen sich auch die HTTP-Methode, ein Timeout und optionale Basic\u2011Auth-Daten definieren:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'from plugins.n8n_workflow.plugin import Plugin\n\nplugin = Plugin()\nresult = plugin.execute(\n    {\n        "endpoint": "http://localhost:5678",\n        "path": "/webhook/test",\n        "payload": {"text": "Hallo"},\n        "headers": {"X-Api-Key": "token"},\n        "auth": {"username": "user", "password": "pass"},\n    },\n    {},\n)\n'})}),"\n",(0,s.jsx)(n.p,{children:"Der Aufruf gibt die Antwort des Workflows zur\xfcck."}),"\n",(0,s.jsxs)(n.p,{children:["\xdcber die optionalen Parameter ",(0,s.jsx)(n.code,{children:"method"})," und ",(0,s.jsx)(n.code,{children:"timeout"})," lassen sich HTTP-Methode und Zeitlimit anpassen."]}),"\n",(0,s.jsx)(n.h2,{id:"installation-des-nodes",children:"Installation des Nodes"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["Navigiere in das Verzeichnis ",(0,s.jsx)(n.code,{children:"integrations/n8n-agentnn"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:["F\xfchre ",(0,s.jsx)(n.code,{children:"npm install"})," aus und kompiliere den TypeScript-Code mit ",(0,s.jsx)(n.code,{children:"npx tsc"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:["Kopiere die erzeugten Dateien aus ",(0,s.jsx)(n.code,{children:"dist/"})," in den ",(0,s.jsx)(n.code,{children:"~/.n8n/custom"})," Ordner deiner n8n-Installation."]}),"\n",(0,s.jsxs)(n.li,{children:["Starte n8n neu, damit der PluginManager das kompilerte JavaScript laden kann. In den Node-Einstellungen lassen sich ",(0,s.jsx)(n.code,{children:"taskType"}),", ",(0,s.jsx)(n.code,{children:"path"}),", ",(0,s.jsx)(n.code,{children:"method"}),", Header und Timeout konfigurieren."]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["Vor einer Ver\xf6ffentlichung muss der Node immer nach ",(0,s.jsx)(n.code,{children:"dist/"})," kompiliert werden. Der PluginManager l\xe4dt ausschlie\xdflich die JavaScript-Dateien."]}),"\n",(0,s.jsxs)(n.p,{children:["Weitere Hinweise zur Konfiguration findest du im ",(0,s.jsx)(n.a,{href:"/Agent-NN/integrations/full_integration_plan",children:"Integration Plan"}),"."]}),"\n",(0,s.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Fehlende Module"}),": Schl\xe4gt ",(0,s.jsx)(n.code,{children:"npm install"})," fehl, pr\xfcfe die Proxy-Einstellungen oder verwende ein internes npm-Registry."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Keine Ausf\xfchrung"}),": Wird der Node nicht angezeigt, kontrolliere, ob die Dateien unter ",(0,s.jsx)(n.code,{children:"~/.n8n/custom"})," die Endung ",(0,s.jsx)(n.code,{children:".js"})," besitzen und n8n neu gestartet wurde."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Netzwerkprobleme"}),": Bei Verbindungsfehlern setze das Feld ",(0,s.jsx)(n.code,{children:"timeout"})," h\xf6her oder teste die URL per ",(0,s.jsx)(n.code,{children:"curl"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Offline-Umgebungen"}),": Nutze einen lokalen npm-Cache (z.B. ",(0,s.jsx)(n.code,{children:"npm config set cache /path/to/cache"}),") oder spiegel die Pakete intern."]}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>r,x:()=>a});var i=t(6540);const s={},o=i.createContext(s);function r(e){const n=i.useContext(o);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),i.createElement(o.Provider,{value:n},e.children)}}}]);