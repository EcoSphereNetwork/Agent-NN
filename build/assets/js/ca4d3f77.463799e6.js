"use strict";(self.webpackChunkagent_nn_docs=self.webpackChunkagent_nn_docs||[]).push([[4938],{962:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>r,default:()=>h,frontMatter:()=>c,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"mcp","title":"Model Context Protocol Integration","description":"Agent-NN exposes a minimal implementation of the Model Context Protocol (MCP)","source":"@site/docs/mcp.md","sourceDirName":".","slug":"/mcp","permalink":"/Agent-NN/mcp","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{}}');var i=s(2540),o=s(3023);const c={},r="Model Context Protocol Integration",l={},d=[{value:"Additional Endpoints",id:"additional-endpoints",level:2},{value:"Using external MCP tools",id:"using-external-mcp-tools",level:3}];function a(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"model-context-protocol-integration",children:"Model Context Protocol Integration"})}),"\n",(0,i.jsxs)(n.p,{children:["Agent-NN exposes a minimal implementation of the ",(0,i.jsx)(n.strong,{children:"Model Context Protocol (MCP)"}),"\nto exchange context information with third party services. The MCP server is\nimplemented in ",(0,i.jsx)(n.code,{children:"agentnn.mcp.mcp_server"})," and provides the following endpoints:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"GET /v1/mcp/ping"})," \u2013 health check"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"POST /v1/mcp/execute"})," \u2013 dispatch a ",(0,i.jsx)(n.code,{children:"ModelContext"})," to the internal task\ndispatcher and return the result"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"POST /v1/mcp/task/execute"})," \u2013 alias for ",(0,i.jsx)(n.code,{children:"/execute"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"POST /v1/mcp/agent/create"})," \u2013 register a new worker agent"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"POST /v1/mcp/tool/use"})," \u2013 invoke a plugin tool"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"POST /v1/mcp/context"})," \u2013 store a context in the session manager"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"POST /v1/mcp/context/save"})," \u2013 persist a context entry"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"GET /v1/mcp/context/{session_id}"})," \u2013 retrieve all contexts for a session"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"GET /v1/mcp/context/get/{session_id}"})," \u2013 alias for ",(0,i.jsx)(n.code,{children:"/context/{session_id}"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"GET /v1/mcp/context/load/{session_id}"})," \u2013 load persisted contexts"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"GET /v1/mcp/context/history"})," \u2013 list sessions with stored context"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["A lightweight client wrapper is available via ",(0,i.jsx)(n.code,{children:"agentnn.mcp.MCPClient"}),"."]}),"\n",(0,i.jsxs)(n.p,{children:["Configure the MCP integration using ",(0,i.jsx)(n.code,{children:"agentnn/config.yml"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:'mcp:\n  enabled: true\n  endpoint: "http://localhost:9000"\n  mode: "server"\n'})}),"\n",(0,i.jsx)(n.p,{children:"When enabled, external tools can interact with Agent\u2011NN using the official MCP\nschemas. See the official specification for further details."}),"\n",(0,i.jsxs)(n.p,{children:["Example request using ",(0,i.jsx)(n.code,{children:"curl"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'curl -X POST http://localhost:9000/v1/mcp/execute \\\n     -H "Content-Type: application/json" \\\n     -d \'{"task_context": {"task_type": "chat", "description": "Hello"}}\'\n'})}),"\n",(0,i.jsx)(n.h2,{id:"additional-endpoints",children:"Additional Endpoints"}),"\n",(0,i.jsx)(n.p,{children:"The server now exposes further MCP routes to control the system:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"POST /v1/mcp/agent/register"})," \u2013 register an agent"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"GET /v1/mcp/agent/list"})," \u2013 list all agents"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"GET /v1/mcp/agent/info/{name}"})," \u2013 details for one agent"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"POST /v1/mcp/session/start"})," \u2013 create a session"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"GET /v1/mcp/session/status/{id}"})," \u2013 session status"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"POST /v1/mcp/session/restore/{snapshot}"})," \u2013 restore from snapshot"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"POST /v1/mcp/task/dispatch"})," \u2013 dispatch a task"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"POST /v1/mcp/task/ask"})," \u2013 simplified alias for dispatch"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"POST /v1/mcp/prompt/refine"})," \u2013 refine a prompt"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"GET /v1/mcp/context/map"})," \u2013 context map of stored sessions"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Start the server with:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"agentnn mcp serve --host 0.0.0.0 --port 8090\n"})}),"\n",(0,i.jsx)(n.h3,{id:"using-external-mcp-tools",children:"Using external MCP tools"}),"\n",(0,i.jsx)(n.p,{children:"Register remote endpoints and invoke tools directly:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'agentnn mcp register-endpoint demo http://mcp.example.com\nagentnn mcp invoke demo.text-analyzer --input \'{"text": "hello"}\'\nagentnn mcp list-tools demo\n'})}),"\n",(0,i.jsxs)(n.p,{children:["Agents can reference tools via ",(0,i.jsx)(n.code,{children:"mcp://"})," URLs in their configuration."]})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(a,{...e})}):a(e)}},3023:(e,n,s)=>{s.d(n,{R:()=>c,x:()=>r});var t=s(3696);const i={},o=t.createContext(i);function c(e){const n=t.useContext(o);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:c(e.components),t.createElement(o.Provider,{value:n},e.children)}}}]);