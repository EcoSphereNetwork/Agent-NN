"use strict";(self.webpackChunkagent_nn_docs=self.webpackChunkagent_nn_docs||[]).push([[2349],{668:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>d,contentTitle:()=>l,default:()=>h,frontMatter:()=>o,metadata:()=>t,toc:()=>a});const t=JSON.parse('{"id":"integrations/flowise","title":"FlowiseAI Integration","description":"FlowiseAI bietet eine grafische Oberfl\xe4che zum Erstellen von Chatbot\u2011Flows. Agent\u2011NN l\xe4sst sich sowohl als Quelle f\xfcr Antworten als auch als externer Aufrufer nutzen. Mit Version v1.0.3 gilt die Flowise\u2011Integration als stabil.","source":"@site/docs/integrations/flowise.md","sourceDirName":"integrations","slug":"/integrations/flowise","permalink":"/Agent-NN/integrations/flowise","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"docs","previous":{"title":"n8n Integration","permalink":"/Agent-NN/integrations/n8n"},"next":{"title":"Modell-Tracking mit MLflow","permalink":"/Agent-NN/development/model_tracking"}}');var s=i(2540),r=i(3023);const o={},l="FlowiseAI Integration",d={},a=[{value:"Agent\u2011NN als Flowise Komponente",id:"agentnn-als-flowise-komponente",level:2},{value:"Quickstart",id:"quickstart",level:2},{value:"Flowise Workflows aus Agent\u2011NN ansto\xdfen",id:"flowise-workflows-aus-agentnn-ansto\xdfen",level:2},{value:"Registrierung der Komponente",id:"registrierung-der-komponente",level:2},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"Known Issues",id:"known-issues",level:3}];function c(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"flowiseai-integration",children:"FlowiseAI Integration"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.a,{href:"https://flowiseai.com/",children:"FlowiseAI"})," bietet eine grafische Oberfl\xe4che zum Erstellen von Chatbot\u2011Flows. Agent\u2011NN l\xe4sst sich sowohl als Quelle f\xfcr Antworten als auch als externer Aufrufer nutzen. Mit Version ",(0,s.jsx)(n.strong,{children:"v1.0.3"})," gilt die Flowise\u2011Integration als stabil."]}),"\n",(0,s.jsx)(n.h2,{id:"agentnn-als-flowise-komponente",children:"Agent\u2011NN als Flowise Komponente"}),"\n",(0,s.jsxs)(n.p,{children:["Unter ",(0,s.jsx)(n.code,{children:"integrations/flowise-agentnn"})," liegt eine Beispielkomponente ",(0,s.jsx)(n.code,{children:"AgentNN.ts"}),". Sie sendet Fragen an den Dispatcher und gibt das Ergebnis zur\xfcck. Der Kern sieht so aus:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",children:"import axios from 'axios';\nimport axios, { AxiosRequestConfig } from 'axios';\n\nexport default class AgentNN {\n  constructor(\n    private endpoint: string,\n    private taskType = 'chat',\n    private headers: Record<string, string> = {},\n    private timeout = 10000,\n    private method: 'POST' | 'GET' | 'PUT' | 'DELETE' = 'POST',\n    private path = '/task',\n    private auth?: { username?: string; password?: string; token?: string }\n  ) {}\n\n  async run(payload: unknown) {\n    const url = `${this.endpoint.replace(/\\/$/, '')}${this.path}`;\n    const body = { task_type: this.taskType, input: payload };\n    const { data } = await axios.request({\n    const headers = { ...this.headers } as Record<string, string>;\n    if (this.auth?.token) {\n      headers['Authorization'] = `Bearer ${this.auth.token}`;\n    }\n    const opts: AxiosRequestConfig = {\n      url,\n      method: this.method,\n      data: body,\n      headers: this.headers,\n      headers,\n      timeout: this.timeout,\n    });\n    return data.result ?? data;\n    };\n    if (this.auth?.username && this.auth?.password) {\n      opts.auth = { username: this.auth.username, password: this.auth.password };\n    }\n    try {\n      const { data } = await axios.request(opts);\n      return data.result ?? data;\n    } catch (err: any) {\n      return { error: err.message ?? String(err) };\n    }\n  }\n}\n"})}),"\n",(0,s.jsx)(n.p,{children:"Diese Komponente wird in Flowise eingebunden und erlaubt es, Benutzeranfragen direkt an Agent\u2011NN zu delegieren."}),"\n",(0,s.jsx)(n.h2,{id:"quickstart",children:"Quickstart"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["Wechsel in ",(0,s.jsx)(n.code,{children:"integrations/flowise-agentnn"})," und installiere die Abh\xe4ngigkeiten:\n",(0,s.jsx)(n.code,{children:"npm install && npx tsc"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:["Lade die erzeugte ",(0,s.jsx)(n.code,{children:"dist/AgentNN.js"})," in der Flowise-UI hoch und setze die\nURL deines Agent\u2011NN Gateways."]}),"\n",(0,s.jsxs)(n.li,{children:["Optional k\xf6nnen ",(0,s.jsx)(n.code,{children:"taskType"}),", ",(0,s.jsx)(n.code,{children:"path"}),", ",(0,s.jsx)(n.code,{children:"method"}),", ",(0,s.jsx)(n.code,{children:"headers"}),", ",(0,s.jsx)(n.code,{children:"auth"})," und\n",(0,s.jsx)(n.code,{children:"timeout"})," angepasst werden."]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"Flowise Example",src:i(8972).A+""})}),"\n",(0,s.jsx)(n.p,{children:"Nach dem Upload kann die Komponente sofort verwendet werden. Konfiguriere die\nBasis-URL von Agent\u2011NN sowie optionale Header oder ein anderes Timeout."}),"\n",(0,s.jsx)(n.h2,{id:"flowise-workflows-aus-agentnn-ansto\xdfen",children:"Flowise Workflows aus Agent\u2011NN ansto\xdfen"}),"\n",(0,s.jsxs)(n.p,{children:["Das Plugin ",(0,s.jsx)(n.code,{children:"flowise_workflow"})," ruft HTTP\u2011basierte Chatflows auf. Neben einem Payload k\xf6nnen optionale Header, die HTTP-Methode und ein Timeout \xfcbergeben werden:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'from plugins.flowise_workflow.plugin import Plugin\n\nplugin = Plugin()\nresult = plugin.execute(\n    {\n        "endpoint": "http://localhost:3000",\n        "path": "/api/v1/predict",\n        "payload": {"question": "Hi"},\n        "headers": {"Authorization": "Bearer token"},\n    },\n    {},\n)\n'})}),"\n",(0,s.jsxs)(n.p,{children:["Kompiliere das Skript zu JavaScript und registriere es \xfcber die Flowise-UI. So kann ein Flowise\u2011Chatbot direkt in Agent\u2011NN Aufgaben bearbeiten oder Informationen abrufen. Optional lassen sich ",(0,s.jsx)(n.code,{children:"path"}),", ",(0,s.jsx)(n.code,{children:"method"})," und ",(0,s.jsx)(n.code,{children:"timeout"})," an den Pluginaufruf \xfcbergeben."]}),"\n",(0,s.jsx)(n.p,{children:"Sobald die Komponente eingebunden ist, kann Agent\u2011NN automatisiert neue Flowise\u2011Agenten registrieren und deren Ausf\xfchrung \xfcberwachen. \xdcber das Python\u2011Plugin werden Aufgabentyp, Modell und Authentifizierungs\u2011Header an Flowise \xfcbermittelt. Das Ergebnis des Flows wird zur\xfcck an Agent\u2011NN gereicht und steht dort f\xfcr weitere Verarbeitung oder Training zur Verf\xfcgung."}),"\n",(0,s.jsx)(n.h2,{id:"registrierung-der-komponente",children:"Registrierung der Komponente"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["Wechsle in das Verzeichnis ",(0,s.jsx)(n.code,{children:"integrations/flowise-agentnn"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:["Installiere Abh\xe4ngigkeiten mit ",(0,s.jsx)(n.code,{children:"npm install"})," und f\xfchre ",(0,s.jsx)(n.code,{children:"npx tsc"})," aus."]}),"\n",(0,s.jsxs)(n.li,{children:["Lade die erzeugte ",(0,s.jsx)(n.code,{children:"dist/AgentNN.js"})," Datei in der Flowise-Administration hoch."]}),"\n",(0,s.jsxs)(n.li,{children:["Lege beim Einbinden der Komponente die URL deines Agent\u2011NN Gateways fest und\noptional weitere Parameter wie ",(0,s.jsx)(n.code,{children:"taskType"}),", ",(0,s.jsx)(n.code,{children:"path"}),", ",(0,s.jsx)(n.code,{children:"method"}),", zus\xe4tzliche\nHTTP-Header oder ein eigenes Timeout."]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["Die Flowise-UI nutzt den Plug-in-Manager, um die kompilierten JS-Dateien zu laden.\nStelle deshalb sicher, dass ",(0,s.jsx)(n.code,{children:"npm install"})," und ",(0,s.jsx)(n.code,{children:"npx tsc"})," vor jeder Ver\xf6ffentlichung\nausgef\xfchrt wurden."]}),"\n",(0,s.jsxs)(n.p,{children:["Nach der Erstellung speichert Agent\u2011NN zus\xe4tzlich eine Datei ",(0,s.jsx)(n.code,{children:"<name>_flowise.json"}),"\nim Agent-Konfigurationsordner. \xdcber die API l\xe4sst sich diese Definition abrufen:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"curl http://localhost:8000/agents/<id>?format=flowise\n"})}),"\n",(0,s.jsx)(n.p,{children:"Die Antwort entspricht dem von Flowise erwarteten Agent\u2011Format und kann direkt\nimportiert werden."}),"\n",(0,s.jsx)(n.p,{children:"Beispielantwort:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "id": "demo",\n  "name": "demo",\n  "description": "demo domain",\n  "type": "agent",\n  "tools": [],\n  "capabilities": [],\n  "llm": {"model": "gpt"},\n  "created_at": "2024-01-01T00:00:00",\n  "version": "1.0.0"\n}\n'})}),"\n",(0,s.jsxs)(n.p,{children:["Falls ein Agent keinen Flowise\u2011Export unterst\xfctzt, liefert die Route einen\n",(0,s.jsx)(n.code,{children:"400"}),"\u2011Fehler mit dem Hinweis auf diesen Abschnitt. Nicht registrierte Agenten\nresultieren in einem ",(0,s.jsx)(n.code,{children:"404"}),"."]}),"\n",(0,s.jsxs)(n.p,{children:["Weitere Details enth\xe4lt der ",(0,s.jsx)(n.a,{href:"/Agent-NN/integrations/full_integration_plan",children:"Integration Plan"}),"."]}),"\n",(0,s.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Fehlende Systempakete:"})," In minimalen Umgebungen kann ",(0,s.jsx)(n.code,{children:"npm install"})," scheitern,\nwenn Build\u2011Tools wie ",(0,s.jsx)(n.code,{children:"make"})," fehlen. Nutze in diesem Fall den Docker\u2011Container\naus dem Repository oder installiere die Pakete manuell."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Kein Internetzugang:"})," Falls Flowise oder Agent\u2011NN offline laufen, kannst du\ndie Plugins mit statischen Antworten testen. Die Python\u2011Plugins geben bei\nNetzwerkfehlern eine Fehlermeldung zur\xfcck, die du im Log findest."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Installationsfehler"}),": Nutze einen internen npm-Mirror, falls ",(0,s.jsx)(n.code,{children:"npm install"})," wegen fehlender Internetverbindung scheitert."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Komponente erscheint nicht"}),": Pr\xfcfe, ob die Datei ",(0,s.jsx)(n.code,{children:"dist/AgentNN.js"})," korrekt hochgeladen wurde und Flowise neu gestartet ist."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"API-Timeouts"}),": Erh\xf6he das ",(0,s.jsx)(n.code,{children:"timeout"})," in der Komponente oder teste den Endpoint separat mit ",(0,s.jsx)(n.code,{children:"curl"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Fehlende Node-Module f\xfcr Tests"}),": In manchen CI-Umgebungen sind ",(0,s.jsx)(n.code,{children:"axios"})," oder ",(0,s.jsx)(n.code,{children:"typescript"})," nicht installiert. F\xfchre ",(0,s.jsx)(n.code,{children:"npm install"})," im Integrationsordner aus oder verwende einen vorbereiteten Docker-Container."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Fehlender Flowise-Export"}),": Gibt die API einen ",(0,s.jsx)(n.code,{children:"400"}),"-Fehler zur\xfcck, unterst\xfctzt der Agent das Format nicht. Lege ihn neu an oder erg\xe4nze ",(0,s.jsx)(n.code,{children:"get_config()"}),"."]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"known-issues",children:"Known Issues"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Die Test-Suite schl\xe4gt vereinzelt fehl, wenn optionale Python-Module wie ",(0,s.jsx)(n.code,{children:"aiohttp"})," oder ",(0,s.jsx)(n.code,{children:"langchain"})," nicht verf\xfcgbar sind. Diese Abh\xe4ngigkeiten werden nicht standardm\xe4\xdfig mitgeliefert und m\xfcssen lokal oder \xfcber einen internen Spiegel installiert werden."]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},3023:(e,n,i)=>{i.d(n,{R:()=>o,x:()=>l});var t=i(3696);const s={},r=t.createContext(s);function o(e){const n=t.useContext(r);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),t.createElement(r.Provider,{value:n},e.children)}},8972:(e,n,i)=>{i.d(n,{A:()=>t});const t="data:image/png;base64,ZG9jcy9pbnRlZ3JhdGlvbnMvZmxvd2lzZV9leGFtcGxlLnBuZwo="}}]);